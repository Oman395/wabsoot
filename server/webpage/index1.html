<!DOCTYPE html>
<html>

<head>
    <script>
        function post(data, creds) {
            const xhttp = new XMLHttpRequest();
            xhttp.open('POST', '/');
            xhttp.setRequestHeader('Authorization', `Basic ${btoa(`${creds.usrname}:${creds.pssword}`)}`);
            console.log(xhttp.UNSENT);
            xhttp.withCredentials = true;
            xhttp.setRequestHeader('Content-Type', 'application/json');
            xhttp.send(JSON.stringify(data));
            xhttp.onload = function () {
                document.getElementById('out').innerHTML = xhttp.responseText;
            }
        }
        function put(data, creds) {
            const xhttp = new XMLHttpRequest();
            xhttp.open('PUT', '/', creds.usrname, creds.pssword);
            xhttp.withCredentials = true;
            xhttp.setRequestHeader('Content-Type', 'application/json');
            xhttp.send(JSON.stringify(data));
        }
        function del(data, creds) {
            const xhttp = new XMLHttpRequest();
            xhttp.open('DELETE', '/', creds.usrname, creds.pssword);
            xhttp.withCredentials = true;
            xhttp.setRequestHeader('Content-Type', 'application/json');
            xhttp.send(JSON.stringify(data));
        }
    </script>
</head>

<body>
    <input id="name">
    <input id="data">
    <input id="usrname">
    <input id="pssword">
    <button
        onclick="post({name: document.getElementById('name').value, data: document.getElementById('data').value}, {usrname: document.getElementById('usrname').value, pssword: document.getElementById('pssword').value})">POST</button>
    <button
        onclick="put({name: document.getElementById('name').value, data: document.getElementById('data').value})">PUT</button>
    <button onclick="del({name: document.getElementById('name').value})">DELETE</button>
    <h1 id="out"></h1>
</body>

</html>